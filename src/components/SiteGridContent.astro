---
import '../styles/grid.scss'

import Layout from '../layouts/Layout.astro'
---
<section class="site-grid">
    <slot />
    <script is:inline>
        document.querySelectorAll('.site-grid .grid .item .image-link').forEach(function(a, i) {
            a.style.backgroundImage = `url('https://image.thum.io/get/maxAge/12/width/${a.clientWidth*2}/${a.href}')`
        })
        document.querySelectorAll('.site-grid .grid').forEach(function(g, i) {
            var eles = g.querySelectorAll('.item')
            var amt = eles.length
            var % = amt % 3
            if (% === 1) {
                eles[0].classList.add('center')
            }
            else if (% === 2) {
                eles[0].classList.add('left')
                eles[2].classList.add('right')
            }
        })
    </script>
</section>