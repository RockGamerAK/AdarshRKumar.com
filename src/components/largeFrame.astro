---
import '../styles/components/largeFrame.scss'

const { video, feed } = Astro.props

var fLink = feed.link
var cId = fLink
if (cId.includes('/')) cId = cId.split('/').pop()

var vidGuId = video.guid
var vidId = vidGuId.substring(vidGuId.lastIndexOf(':')+1)

var img = `https://i.ytimg.com/vi/${vidId}`
var imgAlt = `YouTube Video Thumbnail for "${video.title}" uploaded by "${video.author}"`

var src = `https://www.youtube-nocookie.com/embed/${vidId}`
var frameTitle = `"${video.title}" uploaded by "${video.author}"`

---
<label class="large-frame">
    <input type="checkbox" class="checker" />
    <img class="img" src={`${img}/maxresdefault.jpg`} style={`--bg: url('${img}/hqdefault.jpg')`} alt={imgAlt} />
    <div class="info">
        <h2 class="title">{video.title}</h2>
        <p class="author">by <a target="_blank" href={`https://youtube.com/channel/${cId}`}>{feed.title}</a></p>
    </div>
    <iframe class="frame" src={src} title={frameTitle} />
</div>