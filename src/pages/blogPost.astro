---
import '../styles/pages/[about, contact].scss'
import '../styles/pages/post.scss'

import Layout from '../layouts/Layout.astro'

---
<Layout title="Post" pageType="post">
    <script>
        const urlSearchParams = new URLSearchParams(window.location.search);
        const postId = urlSearchParams.get('id');

        var post = {}
        await fetch(`https://blogfeed.adarshrkumar.dev/getPost?path=${postId}`)
            .then(response => response.json())
            .then(json => {
                post = json
            })
        

        var postEle = document.querySelector('.post')

        document.querySelector('.page-title').textContent = post.title
        dcument.title = `${post.title} | ${document.title}`

        console.log(post)
    </script>
</Layout>